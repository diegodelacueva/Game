var sfxAtlas;var voiceAtlas;var backgroundMusic;function SoundManager(game){this.game=game;sfxAtlas=this.game.add.audio('sfxAtlas');this.addAtlasMarkers(sfxAtlas,sounds.fxAudio);sfxAtlas.additionalInfo={initialVolume:1};voiceAtlas=this.game.add.audio('voiceAtlas');this.addAtlasMarkers(voiceAtlas,sounds.voiceAudio);voiceAtlas.additionalInfo={initialVolume:1};this.extraSounds();};SoundManager.prototype.extraSounds=function()
{backgroundMusic=this.game.add.audio('sfxAtlas');backgroundMusic.additionalInfo={initialVolume:0.2};backgroundMusic.addMarker('backgroundMusic',sounds.fxAudio[9].start,sounds.fxAudio[9].duration,0.2,true);};SoundManager.prototype.addAtlasMarkers=function(audioAtlas,markersArray)
{for(var i=0;i<markersArray.length;i++){audioAtlas.addMarker(markersArray[i].name,markersArray[i].start,markersArray[i].duration);}};SoundManager.prototype.playAudio=function(atlas,marker)
{atlas.play(marker);};SoundManager.prototype.addOnPlayCallback=function(atlas,callback,that){atlas.onPlay.add(callback,that);};SoundManager.prototype.removeOnPlayCallback=function(atlas,callback,that){atlas.onPlay.remove(callback,that);};SoundManager.prototype.removeAllOnPlay=function(atlas){atlas.onStop.removeAll();};SoundManager.prototype.addOnStopCallback=function(atlas,callback,that){atlas.onStop.add(callback,that);};SoundManager.prototype.removeOnStopCallback=function(atlas,callback,that){atlas.onStop.remove(callback,that);};SoundManager.prototype.removeAllOnStop=function(atlas){atlas.onStop.removeAll();};SoundManager.prototype.stopAll=function()
{this.game.sound.stopAll();};SoundManager.prototype.stop=function(atlas){atlas.stop();};SoundManager.prototype.changeVolume=function(volumeLevel){actualVolume=volumeLevel;for(var i=0;i<this.game.sound._sounds.length;i++)
{this.game.sound._sounds[i].volume=this.game.sound._sounds[i].additionalInfo.initialVolume*volumeLevel;var marker;for(marker in this.game.sound._sounds[i].markers){this.game.sound._sounds[i].markers[marker].volume=this.game.sound._sounds[i].additionalInfo.initialVolume*volumeLevel;}}};