function Menu(){Phaser.State.call(this);}
var proto=Object.create(Phaser.State);Menu.prototype=proto;Menu.prototype.create=function(){this.game.stage.backgroundColor='#000000';this.userControl=false;this.game.add.sprite(0,0,'background');this.cloud=this.game.add.sprite(680*assetScale,310*assetScale,'assets','cloud');this.cloud.anchor.set(0.5);this.cloud.alpha=0;this.bubblesTitle=this.game.add.sprite(685*assetScale,350*assetScale,'assets','title1');this.bubblesTitle.anchor.set(0.5);this.bubblesTitle.alpha=0;this.playTitle=this.game.add.sprite(630*assetScale,220*assetScale,'assets','title0');this.playTitle.anchor.set(0.5);this.playTitle.alpha=0;this.subTitle=this.game.add.sprite(710*assetScale,440*assetScale,'assets','title2');this.subTitle.anchor.set(0.5);this.subTitle.alpha=0;this.character=this.game.add.sprite(370*assetScale,505*assetScale,'assets','character');this.character.anchor.set(0.5);this.character2=this.game.add.sprite(1050*assetScale,560*assetScale,'assets','character1');this.character2.anchor.set(0.5);this.btnStart=this.game.add.button(this.game.world.centerX+60*assetScale,670*assetScale,'assets',this.onStartBtn,this,'jugar1','jugar0','jugar0');this.btnStart.anchor.set(0.5);this.btnStart.alpha=0;soundManager.addOnStopCallback(sfxAtlas,this.PlayTitle,this);soundManager.playAudio(sfxAtlas,'bubbling');this.userControl=false;this.FliesParticles();this.game.time.events.add(Phaser.Timer.SECOND*2,this.ShowTitle,this);};Menu.prototype.FliesParticles=function()
{new Bubbles(this,null,true);};Menu.prototype.ShowTitle=function()
{this.game.add.tween(this.cloud).from({x:-500*assetScale},1300,Phaser.Easing.Bounce.Out,true);this.game.add.tween(this.bubblesTitle).from({x:1700*assetScale},1300,Phaser.Easing.Bounce.Out,true);this.game.add.tween(this.playTitle).from({x:1700*assetScale},1200,Phaser.Easing.Bounce.Out,true);this.game.add.tween(this.subTitle).from({x:1700*assetScale},1100,Phaser.Easing.Bounce.Out,true);this.cloud.alpha=1;this.bubblesTitle.alpha=1;this.playTitle.alpha=1;this.subTitle.alpha=1;this.userControl=true;this.game.add.tween(this.btnStart).to({alpha:1},1100,Phaser.Easing.Linear.None,true);};Menu.prototype.PlayTitle=function()
{soundManager.removeOnStopCallback(sfxAtlas,this.PlayTitle,this);soundManager.playAudio(voiceAtlas,'title');};Menu.prototype.onStartBtn=function(){if(!this.userControl){return;};this.userControl=false;soundManager.stopAll();soundManager.addOnStopCallback(sfxAtlas,this.startGame,this);soundManager.playAudio(sfxAtlas,'btnNavigation');this.userControl=true;};Menu.prototype.startGame=function()
{soundManager.removeOnStopCallback(sfxAtlas,this.startGame,this);this.game.state.start("GamePlay");};